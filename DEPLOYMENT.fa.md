# راهنمای نصب AVCPanel

این راهنما شما را در فرآیند نصب کامل AVCPanel روی سرور شخصی راهنمایی می‌کند.

## ۱. پیش‌نیازها

1.  **سرور:** یک سرور مجازی یا اختصاصی.
2.  **منابع پیشنهادی:** ۲ گیگابایت رم و ۲ هسته پردازنده (CPU).
3.  **سیستم‌عامل پیشنهادی:** Ubuntu 22.04.
4.  **دامنه:** یک دامنه که DNS آن روی Cloudflare تنظیم شده باشد.

> **نکته:** در این راهنما، ما پنل را روی سرور شخصی نصب می‌کنیم که به شما امکان انتخاب هر پورتی را می‌دهد. اگر از cPanel اشتراکی استفاده می‌کنید، باید از هاستینگ خود درخواست کنید پورت مورد نظر را برای شما باز کنند.

---

## ۲. نصب aaPanel

ما از **aaPanel** به عنوان یک کنترل پنل سبک و حرفه‌ای برای مدیریت سرور استفاده می‌کنیم.

1.  وارد سرور خود شوید و دستور زیر را متناسب با سیستم‌عامل خود اجرا کنید:

    ### Ubuntu (20.04 / 22.04) / Debian (11 / 12)
    ```bash
    apt-get update -y && apt-get install -y wget curl sudo && \
    wget -O install.sh http://www.aapanel.com/script/install-ubuntu_6.0_en.sh && \
    bash install.sh
    ```

    ### CentOS (7/8/9)
    ```bash
    yum install -y wget && \
    wget -O install.sh http://www.aapanel.com/script/install_7.0_en.sh && \
    bash install.sh
    ```

2.  در حین نصب، از شما پرسیده می‌شود: `Do you want to install aaPanel to the /www directory now?(y/n):`
    حرف `y` را تایپ کرده و Enter را بزنید.

3.  پس از اتمام نصب، اطلاعات ورود (آدرس پنل، نام کاربری و رمز عبور) نمایش داده می‌شود. **این اطلاعات را در مکانی امن ذخیره کنید.**

---

## ۳. نصب پکیج‌های مورد نیاز

1.  وارد پنل aaPanel شوید.
2.  در اولین ورود، یک پنجره برای نصب پکیج‌های پیشنهادی باز می‌شود. گزینه **LNMP** را انتخاب کرده و نسخه‌های زیر را برای نصب مشخص کنید:
    -   **Nginx:** `1.24`
    -   **MySQL:** `mariadb_10.11`
    -   **PHP:** `7.4`
    -   **Pure-FTPd:** `1.0.49`
    -   **PHPMyAdmin:** `4.9`
3.  روی **One-click install** کلیک کرده و منتظر بمانید تا نصب تمام پکیج‌ها تکمیل شود.

---

## ۴. افزودن وب‌سایت و SSL

1.  از منوی سمت چپ به بخش `Website` بروید.
2.  روی `Add site` کلیک کنید.
3.  در فیلد اول، ساب‌دامنه‌ای که قبلاً در Cloudflare با IP سرور خود ایجاد کرده‌اید را وارد کنید.
4.  مطمئن شوید نسخه PHP روی `7.4` تنظیم شده باشد و روی `Submit` کلیک کنید.
5.  **فعال‌سازی SSL:**
    -   روی نام دامنه‌ی خود کلیک کنید.
    -   از منوی سمت چپ، `SSL` را انتخاب کنید.
    -   تب `Let's Encrypt` را انتخاب کرده و تیک `Select all` را بزنید.
    -   روی دکمه سبز رنگ `Apply` کلیک کنید.
6.  پس از صدور گواهی، گزینه **Force HTTPS** را فعال کنید.

---

## ۵. ایجاد دیتابیس

1.  در aaPanel، از منوی سمت چپ به بخش `Database` بروید.
2.  روی `Add Database` کلیک کنید.
3.  یک نام برای دیتابیس (مثلاً `avcpanel`) و یک رمز عبور قوی وارد کنید. **رمز عبور را ذخیره کنید.**
4.  روی `Submit` کلیک کنید.

---

## ۶. کلون کردن پروژه

1.  از طریق ترمینال، وارد مسیر روت وب‌سایت خود شوید (مثلاً `/www/wwwroot/your_domain.com`).
2.  فایل‌های قدیمی را پاک کرده و اسکریپت کلون کردن پروژه را اجرا کنید:

    ```bash
    wget -O cloning.sh https://raw.githubusercontent.com/KimiVerse/AVCPanel/main/cloning.sh && chmod +x cloning.sh && sudo ./cloning.sh
    ```

---

## ۷. ایجاد ربات تلگرام و پیکربندی

1.  به ربات [@BotFather](https://t.me/BotFather) در تلگرام بروید و یک ربات جدید بسازید.
2.  **توکن (Token)** ربات را کپی کنید.
3.  در سرور خود، فایل `config.php` را ویرایش کرده و اطلاعات زیر را با مقادیر خود جایگزین کنید:
    -   توکن ربات (Bot Token)
    -   رمز عبور دیتابیس (Database Password)
    -   شناسه عددی ادمین (Owner Telegram ID)
    -   سایر اطلاعات دیتابیس

---

## ۸. تنظیم وبهوک (Webhook)

در نهایت، اسکریپت تنظیم وبهوک را اجرا کنید تا ربات شما به پنل متصل شود.

```bash
wget -O set_webhook.sh https://raw.githubusercontent.com/KimiVerse/AVCPanel/main/set_webhook.sh && chmod +x set_webhook.sh && ./set_webhook.sh && rm set_webhook.sh
```

تبریک! نصب با موفقیت به پایان رسید.